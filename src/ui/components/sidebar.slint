// src/ui/components/sidebar.slint 

import { VerticalBox } from "std-widgets.slint";
import { ModernButton } from "./button.slint";

export component AppSidebar inherits Rectangle {
    in property <int> current_view_index;
    in property <bool> is_admin;
    callback view-changed(int);

    width: 250px; 

    background: rgba(255, 255, 255, 0.08);
    
    VerticalBox {
        padding: 25px;
        spacing: 15px;
        
        Text {
            text: "NAVIGATION";
            font-size: 11px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.5);
        }
        
        VerticalBox {
            spacing: 8px;
            
            ModernButton { text: "Tableau de Bord"; icon: "ðŸ“Š"; is_active: root.current_view_index == 0; clicked => { root.view-changed(0); } }
            ModernButton { text: "Produits"; icon: "ðŸ“¦"; is_active: root.current_view_index == 1; clicked => { root.view-changed(1); } }
            ModernButton { text: "Ventes"; icon: "ðŸ’°"; is_active: root.current_view_index == 2; clicked => { root.view-changed(2); } }
            if root.is_admin: ModernButton { text: "Utilisateurs"; icon: "ðŸ‘¥"; is_active: root.current_view_index == 3; clicked => { root.view-changed(3); } }
        }
    }
}