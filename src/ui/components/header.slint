// src/ui/components/header.slint 

import { HorizontalBox, VerticalBox } from "std-widgets.slint";
import { HeaderProfile } from "./profile.slint";

export component AppHeader inherits Rectangle {
    in property <string> welcome_message;
    callback change_password_clicked;
    callback logout_clicked;

    height: 70px;
    background: rgba(255, 255, 255, 0.1);
    
    HorizontalBox {
        padding-left: 20px;
        padding-right: 20px;

        alignment: space-between;
        //vertical-alignment: center;
        
        // Partie gauche (Logo + Titre)
        HorizontalBox {
            min-width: 200px; 
            spacing: 15px;
            alignment: center;

            Rectangle {
                width: 45px;
                height: 45px;
                border-radius: 8px;
                background: @linear-gradient(45deg, #ff6b6b 0%, #ee5a24 100%);
                Text { text: "ðŸ¥¤"; font-size: 24px; vertical-alignment: center; horizontal-alignment: center; }
            }
            
            VerticalBox {
                spacing: 2px;
                Text { text: "DÃ©pÃ´t de Boissons"; font-size: 18px; font-weight: 700; color: white; }
                Text { text: "SystÃ¨me de Gestion"; font-size: 12px; color: rgba(255, 255, 255, 0.7); }
            }
        }

        // Partie droite (Profil)
        HeaderProfile {
            user_name: root.welcome_message;
            change_password_clicked => { root.change_password_clicked(); }
            logout_clicked => { root.logout_clicked(); }
        }
    }
}