import { HorizontalBox, Button, ProgressIndicator } from "std-widgets.slint";

export component ActionButton inherits Rectangle {
    in property <string> text;
    in property <bool> loading: false;
    in property <bool> enabled: true;
    callback clicked;

    height: 50px;
    background: root.enabled && !root.loading ? 
               @linear-gradient(135deg, #667eea 0%, #764ba2 100%) :
               rgba(102, 126, 234, 0.5);
    border-radius: 12px;
    animate background { duration: 250ms; }
    
    if !root.loading : Button {
        width: 100%; height: 100%;
        text: root.text; enabled: root.enabled;
        clicked => { root.clicked() }
    }
    if root.loading : HorizontalBox {
        alignment: center; spacing: 10px;
        ProgressIndicator { indeterminate: true; }
        Text { text: "Chargement..."; color: white; }
    }
}